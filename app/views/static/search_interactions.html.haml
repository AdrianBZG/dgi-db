=content_for :title, 'Search Interactions'
=content_for :header do
  %h2
    =tx "title_main"
    %small=tx "title_small"

.container-fluid
  %form.form-horizontal(action="interaction_search_results" method="post" enctype="multipart/form-data")
    %fieldset
      .control-group
        %label.control-label(id='genes_flag')
          Genes
          =icon(:flag, title: tx("genes_flag"), class: 'tip')
        .controls
          %textarea#genes(name='genes' rows="13")
      .control-group#loadingBar
        %label(style='display: none')
        .controls
          .progress.progress-striped.active.span2
            .bar(style='width: 100%') Loading Autocomplete
      .control-group
        .controls
          %button.btn.btn-small.btn-primary#defaultGenes(type='button') Replace Genes with Demo List
          %button.btn.btn-small.btn-danger#clear(type='button') Clear All Genes
      =render partial: 'shared/multiselect', locals: { control_group_name: 'Gene Category',
        flag_text_key: 'gene_category_flag', select_tag_name: 'gene_categories', collection: @gene_categories,
        name_meth: 'to_s', value_meth: 'to_s', tour_id: 'gene_cateogories_tour' }
      =render partial: 'shared/multiselect', locals: { control_group_name: 'Interaction Type',
        flag_text_key: 'interaction_type_flag', select_tag_name: 'interaction_types', collection: @interaction_types,
        name_meth: 'to_s', value_meth: 'to_s', tour_id: 'interaction_types_tour' }
      =render partial: 'shared/multiselect', locals: { control_group_name: 'Source Database',
        flag_text_key: 'source_database_flag', select_tag_name: 'sources', collection: @sources,
        name_meth: 'to_s', value_meth: 'to_s', tour_id: 'sources_tour' }
      .control-group
        %label.control-label
          Select Output Format
          %i.icon-flag.tip{title: tx("output_format_flag")}
        .controls
          %label.radio
            %input(id='html_output' type='radio' name='outputFormat' value='html' checked='true') HTML
          %label.radio
            %input(id='tsv_output' type='radio' name='outputFormat' value='tsv') TSV
      .control-group
        %label.checkobox
          Limit Drugs to Only Antineoplastics
          %i.icon-flag.tip{title: tx("drug_type_flag")}
          %input(id='drug_type_checkbox' type='checkbox' name='limit_drugs' value='true' checked='true')
      .form-actions
        %button.btn.btn-success(type="submit" id='search-btn')Find Drug Interactions

=render partial: 'shared/loading_modal', locals: {title: "Searching Drug-Gene Interactions..."}

=stylesheet_link_tag 'jquery-ui-1.8.16.custom'
=stylesheet_link_tag 'jquery.multiselect'
=stylesheet_link_tag 'jquery.multiselect.filter.css'
=javascript_include_tag 'jquery-ui-1.8.21.custom.min.js'
=javascript_include_tag 'jquery.multiselect.min'
=javascript_include_tag 'jquery.multiselect.filter.min'
=javascript_include_tag 'search_interactions'
